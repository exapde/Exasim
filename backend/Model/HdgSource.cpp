void HdgSource(dstype* f, dstype* J1, dstype* J2, const dstype* x, const dstype* uq, const dstype* v, const dstype* w, const dstype* eta, const dstype* mu, const dstype t, const int modelnumber, const int N, const int szx, const int szuq, const int szv, const int szw, const int szeta, const int szmu)
{

  Kokkos::parallel_for("Source", N, KOKKOS_LAMBDA(const size_t i) {
    dstype x1 = x[1*N+i];
    dstype uq0 = uq[0*N+i];
    dstype uq1 = uq[1*N+i];
    dstype uq2 = uq[2*N+i];
    dstype uq3 = uq[3*N+i];
    dstype uq4 = uq[4*N+i];
    dstype uq5 = uq[5*N+i];
    dstype uq6 = uq[6*N+i];
    dstype uq8 = uq[8*N+i];
    dstype uq9 = uq[9*N+i];
    dstype uq10 = uq[10*N+i];
    dstype uq11 = uq[11*N+i];
    dstype v0 = v[0*N+i];
    dstype mu0 = mu[0];
    dstype mu1 = mu[1];
    dstype mu2 = mu[2];
    dstype mu3 = mu[3];
    dstype mu9 = mu[9];
    dstype x0 = pow(x1, -1);
    dstype x2 = pow(uq0, -1);
    dstype x3 = x2*uq2;
    dstype x4 = uq6 - x3*uq4;
    dstype x5 = x2*uq1;
    dstype x6 = uq9 - x5*uq8;
    dstype x7 = x2*x4 + x2*x6;
    dstype x8 = pow(uq0, -3);
    dstype x9 = pow(uq2, 2);
    dstype x10 = pow(uq0, -2);
    dstype x11 = x9*x10;
    dstype x12 = pow(uq1, 2);
    dstype x13 = x12*x10;
    dstype x14 = 0.5*(x11 + x13);
    dstype x15 = uq3 - uq0*x14;
    dstype x16 = pow(mu3, 6);
    dstype x17 = -1.0 + mu0;
    dstype x18 = pow(x17, 3)*x16*pow(mu0, 3);
    dstype x19 = pow(x15, 3)*x18;
    dstype x20 = sqrt(x8*x19);
    dstype x21 = pow(mu1, -1);
    dstype x22 = 110.4 + mu9;
    dstype x23 = x2*x17;
    dstype x24 = x23*x15;
    dstype x25 = 1.0*mu0;
    dstype x26 = pow(mu3, 2)*mu9;
    dstype x27 = x25*x26;
    dstype x28 = 110.4 + x24*x27;
    dstype x29 = x22*x21/x28;
    dstype x30 = x20*x29;
    dstype x31 = 1.0*x30;
    dstype x32 = uq10 - x3*uq8;
    dstype x33 = x2*x32;
    dstype x34 = x0*x2;
    dstype x35 = 2*x34;
    dstype x36 = uq5 - x5*uq4;
    dstype x37 = -x2*x36;
    dstype x38 = -x33 + x37 - uq2*x35;
    dstype x39 = 0.666666666666667*x30;
    dstype x40 = 2*x33 + x37 + uq2*x34;
    dstype x41 = x40*x39;
    dstype x42 = x24 + x2*uq3;
    dstype x43 = x15*x17;
    dstype x44 = x32*x10;
    dstype x45 = uq2*x44;
    dstype x46 = x6*x10;
    dstype x47 = uq1*x46;
    dstype x48 = x17*(uq11 - uq8*x14 - (x45 + x47)*uq0);
    dstype x49 = uq0*x48 - uq8*x43;
    dstype x50 = pow(x17, -1);
    dstype x51 = x50*x49;
    dstype x52 = x31*x10;
    dstype x53 = pow(mu2, -1);
    dstype x54 = x53*mu0;
    dstype x55 = x54*x52;
    dstype x56 = x8*x12;
    dstype x57 = x8*x9;
    dstype x58 = 0.5*(-2*x56 - 2*x57);
    dstype x59 = -0.5*x11 - 0.5*x13;
    dstype x60 = x59 - uq0*x58;
    dstype x61 = pow(x15, 2);
    dstype x62 = x61*x18;
    dstype x63 = x8*x62;
    dstype x64 = pow(uq0, -4);
    dstype x65 = x29/x20;
    dstype x66 = (3*x60*x63 - 3*x64*x19)*x65;
    dstype x67 = 0.5*x66;
    dstype x68 = x8*uq1;
    dstype x69 = uq8*x68;
    dstype x70 = x8*uq2;
    dstype x71 = uq4*x70;
    dstype x72 = uq2*x10;
    dstype x73 = uq1*x72;
    dstype x74 = x43*x10;
    dstype x75 = x60*x23;
    dstype x76 = x22*x20*x21/pow(x28, 2);
    dstype x77 = (-x74*x27 + x75*x27)*x76;
    dstype x78 = 0.333333333333333*x66;
    dstype x79 = x78*x40;
    dstype x80 = uq8*x70;
    dstype x81 = x0*x72;
    dstype x82 = -uq4*x68 + x36*x10;
    dstype x83 = (-2*x44 + 2*x80 - x81 + x82)*x39;
    dstype x84 = 0.666666666666667*x77;
    dstype x85 = x84*x40;
    dstype x86 = x44 - x80;
    dstype x87 = x54*x51;
    dstype x88 = uq8*x64;
    dstype x89 = uq0*x17;
    dstype x90 = x50*x55;
    dstype x91 = 2.0*x30;
    dstype x92 = uq1*x65;
    dstype x93 = x64*x92;
    dstype x94 = 1.5*x7;
    dstype x95 = x62*x94;
    dstype x96 = uq8*x10;
    dstype x97 = 1.0*x96;
    dstype x98 = x97*x30;
    dstype x99 = 1.0*x17;
    dstype x100 = x76*x26;
    dstype x101 = mu0*x100;
    dstype x102 = x7*x101;
    dstype x103 = x99*x102;
    dstype x104 = uq1*x10;
    dstype x105 = 1.0*x62*x40;
    dstype x106 = 0.666666666666667*x101;
    dstype x107 = x17*x106;
    dstype x108 = x40*x107;
    dstype x109 = 1.0*x62*x38;
    dstype x110 = x38*x107;
    dstype x111 = 1.0*x23;
    dstype x112 = uq8*x111;
    dstype x113 = x53*x49;
    dstype x114 = 1.5*x61*pow(x17, 2)*x16*pow(mu0, 4)*x113;
    dstype x115 = x114/pow(uq0, 6);
    dstype x116 = 1.0*pow(mu0, 2)*x100*x113;
    dstype x117 = x64*x116;
    dstype x118 = x65/pow(uq0, 5);
    dstype x119 = uq2*x105;
    dstype x120 = uq2*x68;
    dstype x121 = x64*x65;
    dstype x122 = uq2*x121;
    dstype x123 = x119*x121;
    dstype x124 = x72*x108;
    dstype x125 = (x34 - 2*x96)*x39;
    dstype x126 = x63*x65;
    dstype x127 = 1.0*x126;
    dstype x128 = x23*x106;
    dstype x129 = x0*uq1*x52;
    dstype x130 = 1.33333333333333*x30;
    dstype x131 = x2*x31;

    f[0 * N + i] = -x0*(uq2 + v0*uq8);
    f[1 * N + i] = -x0*(v0*uq9 + x5*uq2 + x7*x31);
    f[2 * N + i] = -x0*(x41 + v0*uq10 + x2*x9 - x38*x39);
    f[3 * N + i] = -x0*(uq2*x42 + v0*uq11 + x3*x41 + x51*x55);
    J1[0 * N + i] = 0;
    J1[1 * N + i] = -x0*(-x73 + x31*(-x46 + x69 + x71 - x4*x10) + x7*x67 - 1.0*x7*x77);
    J1[2 * N + i] = -x0*(-x11 + x79 + x83 - x85 - x39*(2*x81 + x82 + x86) - x78*x38 + x84*x38);
    J1[3 * N + i] = -x0*(uq2*(-x74 + x75 - uq3*x10) + x3*x79 + x3*x83 - x3*x85 - x72*x41 + x90*(x48 + x89*(-x45 - x47 - uq8*x58 - (-2*x6*x68 - 2*x70*x32 + x88*x12 + x9*x88)*uq0) - uq8*x60*x17) - x8*x87*x91 + x87*x67*x10 - x77*x53*x51*x25*x10);
    J1[4 * N + i] = 0;
    J1[5 * N + i] = -x0*(x3 - x98 + x103*x104 - x93*x95);
    J1[6 * N + i] = -x0*(-x104*x110 + x108*x104 - x93*x105 + x93*x109);
    J1[7 * N + i] = -x0*(uq1*x117 + x108*x120 + x71*x39 - x73*x99 + x90*(uq1*x112 + x89*(-uq1*x97 - (x46 - x69)*uq0)) - x92*x115 - uq1*x118*x119);
    J1[8 * N + i] = -x0;
    J1[9 * N + i] = -x0*(x5 - uq4*x52 + x72*x103 - x95*x122);
    J1[10 * N + i] = -x0*(-x123 + x124 + x125 + 2*x3 + x109*x122 - x72*x110 - (-x35 + x96)*x39);
    J1[11 * N + i] = -x0*(x42 + uq2*x117 + x2*x41 + x3*x125 + x57*x108 + x90*(uq2*x112 + (-uq0*x86 - uq2*x97)*x89) - x99*x11 - uq2*x65*x115 - x9*x105*x118);
    J1[12 * N + i] = 0;
    J1[13 * N + i] = -x0*(-x102*x111 + x94*x126);
    J1[14 * N + i] = -(-x38*x127 + x38*x128 + x40*x127 - x40*x128)*x0;
    J1[15 * N + i] = -x0*(x123 - x124 + uq2*(x2 + x23) + x118*x114 - x54*x98 - x8*x116);
    J1[16 * N + i] = 0;
    J1[17 * N + i] = x81*x31;
    J1[18 * N + i] = 0;
    J1[19 * N + i] = -x0*x39*x120;
    J1[20 * N + i] = 0;
    J1[21 * N + i] = 0;
    J1[22 * N + i] = 0;
    J1[23 * N + i] = x81*x39;
    J1[24 * N + i] = 0;
    J1[25 * N + i] = -x31*x34;
    J1[26 * N + i] = 0;
    J1[27 * N + i] = 0;
    J1[28 * N + i] = 0;
    J1[29 * N + i] = 0;
    J1[30 * N + i] = 0;
    J1[31 * N + i] = 0;
    J1[32 * N + i] = -v0*x0;
    J1[33 * N + i] = x129;
    J1[34 * N + i] = x81*x91;
    J1[35 * N + i] = -x0*(-x57*x130 + x90*(-x43 + x89*(x59 - (-x56 - x57)*uq0)));
    J1[36 * N + i] = 0;
    J1[37 * N + i] = -x0*(v0 + x131);
    J1[38 * N + i] = 0;
    J1[39 * N + i] = x54*x129;
    J1[40 * N + i] = 0;
    J1[41 * N + i] = 0;
    J1[42 * N + i] = -x0*(v0 + x2*x91);
    J1[43 * N + i] = -x0*(x72*x130 - x72*x54*x31);
    J1[44 * N + i] = 0;
    J1[45 * N + i] = 0;
    J1[46 * N + i] = 0;
    J1[47 * N + i] = -x0*(v0 + x54*x131);
  });
}

