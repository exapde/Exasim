##### Install GKlib, METIS, ParMETIS, symengine, text2code in one shot #####
cd text2code
make text2code

##### If the above installation fails, then install them inviddually #####

# Install GKlib
cd GKlib 
make config prefix=$(pwd)
make install

# Install METIS
cd ../METIS 
make config prefix=$(pwd) gklib_path="$(pwd)/../GKlib"
make install

# Install ParMETIS
cd ../ParMETIS 
make config prefix=$(pwd) gklib_path="$(pwd)/../GKlib" metis_path="$(pwd)/../METIS"
make install

# Install SYMENGINE
cd ../symengine
cmake -S . -B build \
  -DCMAKE_INSTALL_PREFIX=$(pwd) \
  -DCMAKE_BUILD_TYPE=Release \
  -DBUILD_SHARED_LIBS=OFF \
  -DWITH_GMP=OFF \
  -DWITH_MPFR=OFF \
  -DWITH_LLVM=OFF \
  -DWITH_SYMENGINE_THREAD_SAFE=ON \
  -DINTEGER_CLASS=boostmp \
  -DCMAKE_CXX_FLAGS="-std=gnu++17 -fPIC"

cmake --build build -j4
cmake --install build 

# Install TEXT2CODE
cd ../text2code
cmake -S . -B build -DWITH_METIS=ON
cmake --build build -j4

